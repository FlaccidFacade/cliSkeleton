# report
  a simple CLI tool to convert csv files to json file report

  this repository uses python3.9 and the click module to create 
  the CLI tool

  click is excellent for a fast design 
  and well equipped to scale with design patterns

  click handles extra features by default and offers easy to use features

  CSV to dictionary conversion is handled using the pandas module

  dictionary to JSON conversion is handled using JSON module

  the testing framework is pytest

# First-time use 

First, you need to install the tool from the root dir

```
pip install .
```

Now you can use the tool 'report' 

```
report [path for courses.csv] [path for students.csv] [path for tests.csv] [path for marks.csv] [path for output.json]
```
try

```
report --help
```

as an example
```
report /home/dev/Documents/Example1/courses.csv /home/dev/Documents/Example1/students.csv /home/dev/Documents/Example1/tests.csv /home/dev/Documents/Example1/marks.csv /home/dev/Documents/Example1/output.json
```

# design clarifications

  This is designed under the assumption that no values in the CSV files are empty and that the paths/files given are valid and exist

  The error response is different from the prompt. I believe errors should have more information.
  The weights error does not entirely replace the report. There is still data to be viewed/used if other courses have valid weights. For this reasoning, I implemented the error report to have the error appear at a lower level if needed. Additionally, I added more errors and returned values to help identify issues.

  Linear search is implemented as a strategy pattern because a bigger data set might need a faster searching algorithm, and the strategy pattern allows for easy additions and versioning.


  The Report class is created with the ability to create reports per student for a more accessible addition of features.

  naming styles should follow pep 8 for readability

  docstrings should follow google for readability

# First time use Development
  0) clone/fork the repo

  ```
  git clone https://github.com/FlaccidFacade/report.git
  ```


  1) Python

  Make sure python 3.9 is installed.

  ```
  python3 --version
  ```

  This project was created using 3.9.9

  2) Virtual environment

  either use the specific version of python itself

  python:

  ```
  python3.9 -m venv venv
  ```

  3) Activate Virtual Env

  In the same folder that the virtual environment was created in run:

  ```
  source venv/bin/activate
  ```

  To stop the running environment run:

  ```
  deactivate
  ```

  4) Dependencies/Requirements

  The dev_requirements.txt file holds all the needed 
  packages for this project. 

    **Note: be sure to adjust this as your project grows 
    and that your virtual environment is activated before running the install.

  ```
  pip install -r dev_requirements.txt
  ```

  5) Using Report

  This allows for modules and commands to be simultaneously
  updated and usable

  ```
  pip install -e .
  ```

  ```
  report --help
  ```
  6) Testing


  To run all tests in the test/ directory without coverage use:

  ```
  python3 -m pytest test/
  ```

  with coverage:

  ```
  python3 -m pytest --cov=src test/
  ```

  with coverage report:

  ```
  python3 -m pytest --cov-report xml:cov.xml --cov=src test/
  ```

  NOTE: in visual studio using pytestArgs 
  remove "--cov-report", "xml:cov.xml", "--cov=src" arguements if you with to debug tests

  testing the CLI script from the click documents recommends:

  """
  For basic testing, Click provides the click.testing module which provides test functionality that helps you invoke command line applications and check their behavior.

  These tools should really only be used for testing as they change the entire interpreter state for simplicity and are not in any way thread-safe!
  """

  Click testing guide: https://click.palletsprojects.com/en/8.0.x/testing/?highlight=test


# Coverage

  One of the keys to faster and more effective testing is
  analyzing test cases with coverage reports

  This project uses pytest-cov (and therefore also coverage.py)
  https://github.com/pytest-dev/pytest-cov

  pytest docs for ref:
  https://docs.pytest.org/en/6.2.x/

  I like to use a visual representation for coverage reports that
  map what lines of code are covered or not with color.

  "coverage gutters" vscode extension creates an easy-to-view coverage report in the editing window with highlights on the lines.

  Name: Coverage Gutters
  Id: ryanluker.vscode-coverage-gutters
  Description: Display test coverage generated by lcov or XML - works with many languages
  Version: 2.8.2
  Publisher: ryanluker
  VS Marketplace Link: https://marketplace.visualstudio.com/items?itemName=ryanluker.vscode-coverage-gutters



# CREDIT
  ignore file is originally sourced from here: 
  https://github.com/muhammad-mamdouh/Django_Projects/blob/1f31e12aefb36b33474256db40a2c551882f445e/src/.gitignore
